{"ast":null,"code":"var _jsxFileName = \"D:\\\\blog-dat\\\\client\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport io from 'socket.io-client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst socket = io('http://localhost:3001');\nfunction App() {\n  _s();\n  const [comments, setComments] = useState([]);\n  useEffect(() => {\n    // Lắng nghe sự kiện \"newComment\" được gửi từ server\n    socket.on('newComment', comment => {\n      setComments(prevComments => [...prevComments, comment]);\n    });\n    return () => {\n      // Hủy đăng ký lắng nghe sự kiện khi component bị unmount\n      socket.off('newComment');\n    };\n  }, []);\n  const handleSubmit = e => {\n    e.preventDefault();\n    const author = e.target.elements.author.value;\n    const message = e.target.elements.message.value;\n\n    // Gửi comment mới lên server qua socket\n    socket.emit('newComment', {\n      author,\n      message\n    });\n    e.target.reset();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Realtime Comments\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"author\",\n        placeholder: \"Your name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"message\",\n        placeholder: \"Your message\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: comments.map((comment, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [comment.author, \": \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, this), comment.message]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"ByfV/t0DOiJY0nGyfgV+6QjIggQ=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","io","socket","App","comments","setComments","on","comment","prevComments","off","handleSubmit","e","preventDefault","author","target","elements","value","message","emit","reset","map","index"],"sources":["D:/blog-dat/client/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport io from 'socket.io-client';\n\nconst socket = io('http://localhost:3001');\n\nfunction App() {\n  const [comments, setComments] = useState([]);\n\n  useEffect(() => {\n    // Lắng nghe sự kiện \"newComment\" được gửi từ server\n    socket.on('newComment', (comment) => {\n      setComments((prevComments) => [...prevComments, comment]);\n    });\n\n    return () => {\n      // Hủy đăng ký lắng nghe sự kiện khi component bị unmount\n      socket.off('newComment');\n    };\n  }, []);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const author = e.target.elements.author.value;\n    const message = e.target.elements.message.value;\n\n    // Gửi comment mới lên server qua socket\n    socket.emit('newComment', { author, message });\n\n    e.target.reset();\n  };\n\n  return (\n    <div>\n      <h1>Realtime Comments</h1>\n      <form onSubmit={handleSubmit}>\n        <input type=\"text\" name=\"author\" placeholder=\"Your name\" />\n        <textarea name=\"message\" placeholder=\"Your message\"></textarea>\n        <button type=\"submit\">Submit</button>\n      </form>\n      <ul>\n        {comments.map((comment, index) => (\n          <li key={index}>\n            <strong>{comment.author}: </strong>\n            {comment.message}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,EAAE,MAAM,kBAAkB;AAAC;AAElC,MAAMC,MAAM,GAAGD,EAAE,CAAC,uBAAuB,CAAC;AAE1C,SAASE,GAAG,GAAG;EAAA;EACb,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EAE5CC,SAAS,CAAC,MAAM;IACd;IACAE,MAAM,CAACI,EAAE,CAAC,YAAY,EAAGC,OAAO,IAAK;MACnCF,WAAW,CAAEG,YAAY,IAAK,CAAC,GAAGA,YAAY,EAAED,OAAO,CAAC,CAAC;IAC3D,CAAC,CAAC;IAEF,OAAO,MAAM;MACX;MACAL,MAAM,CAACO,GAAG,CAAC,YAAY,CAAC;IAC1B,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,YAAY,GAAIC,CAAC,IAAK;IAC1BA,CAAC,CAACC,cAAc,EAAE;IAElB,MAAMC,MAAM,GAAGF,CAAC,CAACG,MAAM,CAACC,QAAQ,CAACF,MAAM,CAACG,KAAK;IAC7C,MAAMC,OAAO,GAAGN,CAAC,CAACG,MAAM,CAACC,QAAQ,CAACE,OAAO,CAACD,KAAK;;IAE/C;IACAd,MAAM,CAACgB,IAAI,CAAC,YAAY,EAAE;MAAEL,MAAM;MAAEI;IAAQ,CAAC,CAAC;IAE9CN,CAAC,CAACG,MAAM,CAACK,KAAK,EAAE;EAClB,CAAC;EAED,oBACE;IAAA,wBACE;MAAA,UAAI;IAAiB;MAAA;MAAA;MAAA;IAAA,QAAK,eAC1B;MAAM,QAAQ,EAAET,YAAa;MAAA,wBAC3B;QAAO,IAAI,EAAC,MAAM;QAAC,IAAI,EAAC,QAAQ;QAAC,WAAW,EAAC;MAAW;QAAA;QAAA;QAAA;MAAA,QAAG,eAC3D;QAAU,IAAI,EAAC,SAAS;QAAC,WAAW,EAAC;MAAc;QAAA;QAAA;QAAA;MAAA,QAAY,eAC/D;QAAQ,IAAI,EAAC,QAAQ;QAAA,UAAC;MAAM;QAAA;QAAA;QAAA;MAAA,QAAS;IAAA;MAAA;MAAA;MAAA;IAAA,QAChC,eACP;MAAA,UACGN,QAAQ,CAACgB,GAAG,CAAC,CAACb,OAAO,EAAEc,KAAK,kBAC3B;QAAA,wBACE;UAAA,WAASd,OAAO,CAACM,MAAM,EAAC,IAAE;QAAA;UAAA;UAAA;UAAA;QAAA,QAAS,EAClCN,OAAO,CAACU,OAAO;MAAA,GAFTI,KAAK;QAAA;QAAA;QAAA;MAAA,QAIf;IAAC;MAAA;MAAA;MAAA;IAAA,QACC;EAAA;IAAA;IAAA;IAAA;EAAA,QACD;AAEV;AAAC,GA7CQlB,GAAG;AAAA,KAAHA,GAAG;AA+CZ,eAAeA,GAAG;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}