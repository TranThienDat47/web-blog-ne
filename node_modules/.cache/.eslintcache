[{"D:\\blog-dat\\client\\src\\index.tsx":"1","D:\\blog-dat\\client\\src\\reportWebVitals.ts":"2","D:\\blog-dat\\client\\src\\App.tsx":"3"},{"size":244,"mtime":1673932414000,"results":"4","hashOfConfig":"5"},{"size":425,"mtime":1673843008000,"results":"6","hashOfConfig":"5"},{"size":2368,"mtime":1682966304517,"results":"7","hashOfConfig":"5"},{"filePath":"8","messages":"9","suppressedMessages":"10","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"18sx3no",{"filePath":"11","messages":"12","suppressedMessages":"13","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"14","messages":"15","suppressedMessages":"16","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"17"},"D:\\blog-dat\\client\\src\\index.tsx",[],[],"D:\\blog-dat\\client\\src\\reportWebVitals.ts",[],[],"D:\\blog-dat\\client\\src\\App.tsx",["18"],[],"import React, { useState, useEffect, useCallback } from 'react';\nimport io from 'socket.io-client';\nimport axios from 'axios';\n\ninterface Comment {\n  id: string;\n  text: string;\n}\n\nfunction CommentList({ comments }: { comments: Comment[] }) {\n  return (\n    <ul>\n      {comments.map((comment) => (\n        <li key={comment.id}>{comment.text}</li>\n      ))}\n    </ul>\n  );\n}\n\nconst CommentForm = React.memo(({ onSubmit }: { onSubmit: (text: string) => void }) => {\n  const [text, setText] = useState('');\n\n  const handleSubmit = useCallback(\n    (e: React.FormEvent<HTMLFormElement>) => {\n      e.preventDefault();\n      onSubmit(text);\n      setText('');\n    },\n    [text, onSubmit],\n  );\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input type=\"text\" value={text} onChange={(e) => setText(e.target.value)} />\n      <button type=\"submit\">Submit</button>\n    </form>\n  );\n});\n\nfunction App() {\n\n  const [comments, setComments] = useState<Comment[]>([]);\n  const socket = io('http://localhost:3001');\n\n\n  useEffect(() => {\n    const fetchComments = async () => {\n      try {\n        const response = await axios.post('http://localhost:5000/api/comment/get', {\n          _id: '644ffcfbdc6b6409b35dc7c6',\n        });\n        const newComments = response.data.comments.map((element: any) => {\n          return { id: element._id, text: element.content };\n        });\n        setComments(newComments);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    fetchComments();\n  }, []);\n\n  useEffect(() => {\n    socket.on('comment', (comment: Comment) => {\n      setComments((comments) => [...comments, comment]);\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleCommentSubmit = useCallback(\n    (text: string) => {\n      const comment: Comment = { id: String(Date.now()), text };\n      socket.emit('comment', comment);\n      axios.post('http://localhost:5000/api/comment/create', {\n        parent_id: \"644ffcfbdc6b6409b35dc7c6\",\n        custommer_id: \"63dbe51c7a055d409149d808\",\n        content: text || \" \"\n      })\n        .then((response) => {\n        })\n        .catch((error) => {\n        });\n    },\n    [socket],\n  );\n\n  return (\n    <div>\n      <h1>Realtime Comments</h1>\n      <CommentList comments={comments} />\n      <CommentForm onSubmit={handleCommentSubmit} />\n    </div>\n  );\n}\n\nexport default App;",{"ruleId":"19","severity":1,"message":"20","line":71,"column":6,"nodeType":"21","endLine":71,"endColumn":8,"suggestions":"22"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'socket'. Either include it or remove the dependency array.","ArrayExpression",["23"],{"desc":"24","fix":"25"},"Update the dependencies array to be: [socket]",{"range":"26","text":"27"},[1698,1700],"[socket]"]